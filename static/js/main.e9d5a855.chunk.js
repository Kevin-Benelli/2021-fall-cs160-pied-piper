(this["webpackJsonpstocked-client"]=this["webpackJsonpstocked-client"]||[]).push([[0],{154:function(e,t,n){},162:function(e,t,n){},182:function(e,t,n){},209:function(e,t,n){},210:function(e,t,n){},211:function(e,t,n){},214:function(e,t,n){},215:function(e,t,n){},216:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(15),r=n.n(i),o=(n(154),n(155),n(156),n(157),n(158),n(159),n(160),n(161),n(24)),s=(n(162),n(31)),l=n.n(s),h=n(48),u=n(12),d=n(224),f=n(35),j=n.p+"static/media/logo.7f424a7c.png",b=n(49),g=n.n(b),m=n(81),p=n(26),O=n(93),v=n(53),x=(n(182),n(3)),w=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(!1),r=Object(o.a)(i,2),s=r[0],h=r[1],u=Object(a.useState)(""),f=Object(o.a)(u,2),j=f[0],b=f[1];function w(e,t){return S.apply(this,arguments)}function S(){return(S=Object(m.a)(g.a.mark((function e(t,a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(t),console.log(a),e.prev=3,e.next=6,l.a.post("http://localhost:5000/post_".concat(a),{username:n,password:j});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.log("Yo something went wrong: %s",e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}var k=Object(x.jsx)(O.a,{content:"".concat(s?"Hide":"Show"," Password"),placement:"right",children:Object(x.jsx)(d.a,{icon:s?"unlock":"lock",intent:p.a.WARNING,minimal:!0,onClick:function(){h(!s)}})}),y=Object(x.jsx)("div",{className:"login center",children:Object(x.jsxs)("form",{children:[Object(x.jsx)(d.b,{className:"username",placeholder:"Username",onChange:function(e){return c(e.target.value)},value:n}),Object(x.jsx)(d.b,{className:"password",placeholder:"Password",onChange:function(e){return b(e.target.value)},value:j,rightElement:k,type:s?"text":"password"}),Object(x.jsx)(d.a,{className:"login-submit",onClick:function(e){w(e,"login")},children:" Login "}),Object(x.jsx)(d.a,{className:"create-account-submit",onClick:function(e){w(e,"create_account")},children:" Create Account "})]})});return Object(x.jsx)(v.a,{placement:"bottom",content:y,children:Object(x.jsx)(d.a,{intent:p.a.PRIMARY,icon:"log-in",text:"Login",tabIndex:0})})},S=(n(209),function(){return Object(x.jsx)("div",{className:"center",children:Object(x.jsx)("div",{className:"header",children:Object(x.jsxs)(d.c,{className:"header-navbar",children:[Object(x.jsx)(d.d,{align:f.a.LEFT,children:Object(x.jsx)("img",{src:j,className:"header-logo",alt:"logo"})}),Object(x.jsx)(d.d,{align:f.a.RIGHT,children:Object(x.jsx)(w,{})})]})})})}),k=(n(210),n(90)),y=n(91),D=n(85),N=n(86),M=n(92),T=n(89),P=(n(211),n.p+"static/media/loading.60616635.gif"),F=["updateMousePos","draw"];var R=function(e){var t,n,c,i,r=Object(a.useState)(null),s=Object(o.a)(r,2),h=s[0],u=s[1],d=Object(a.useState)(null),f=Object(o.a)(d,2),j=f[0],b=f[1],g=Object(a.useState)(!1),m=Object(o.a)(g,2),p=m[0],O=m[1],v=e.ticker.toUpperCase(),w=new Date,S=(t=w,n=-1,c=0,i=0,new Date(t.getFullYear()+i,t.getMonth()+c,Math.min(t.getDate()+n,new Date(t.getFullYear()+i,t.getMonth()+c+1,0).getDate()))),k=Math.floor(S.getTime()/1e3),y=Math.floor(w.getTime()/1e3);return Object(a.useEffect)((function(){l.a.get("http://localhost:5000/chart_data",{params:{resolution:"30",symbol:v,from:k,to:y}}).then((function(e){u(e.data.chartData),b(e.data.error),O(!0)}))}),[]),Object(x.jsx)("div",{className:"center",children:Object(x.jsx)("div",{className:"chart",children:Object(x.jsx)(C,{chartData:h,error:j,loaded:p,width:"800px",height:"500px",symbol:v,resolution:"30",from:k,to:y})})})},C=function(e){Object(M.a)(n,e);var t=Object(T.a)(n);function n(e){var a;return Object(D.a)(this,n),(a=t.call(this,e)).draw=function(e,t){var n=e.canvas.width,c=e.canvas.height,i=n-60,r=c-40;e.clearRect(0,0,n,c),e.fillStyle="#222222",e.fillRect(0,0,n,c);var o=n-60;e.fillStyle="#2b2b43",e.fillRect(o,0,2,c),e.fillStyle="#ffffff";e.font="15px Georgia";var s,l,h=a.getDisplayedPrices(),u=0;e.textAlign="center";for(var d=0;d<h.length;d++){var f=h[d],j=o+30,b=r/h.length*d+15+5;0===d?s=b:d===h.length-1&&(l=b),Math.abs(b-u)>=25&&(e.fillText(f.toFixed(2),j,b),u=b)}for(var g=a.props.chartData.candles,m=g.c.length,p=(i-40)/m,O=Math.max(p/20,1),v=0,x=[],w=0;w<m;w++){var S=g.o[w],k=g.c[w],y=g.h[w],D=g.l[w],N=g.t[w],M=(g.v[w],a.getHeightOfPrice(S,s,l)),T=a.getHeightOfPrice(k,s,l),P=a.getHeightOfPrice(y,s,l),F=a.getHeightOfPrice(D,s,l),R=void 0;R=S<k?"#26a69a":S>k?"#ee5350":"#808080",e.fillStyle=R;var C=w*p+5,L=p-5,H=C+L/2-O/2;e.fillRect(C,Math.min(M,T),L,Math.abs(M-T)),e.fillRect(H,P,O,F-P),x.push({timestamp:N,close:k,closeHeight:T,open:S,openHeight:M,high:y,highHeight:P,low:D,lowHeight:F,xRange:[C,C+L]});var A=new Date(1e3*N);if(A.getMinutes()%5===0&&Math.abs(H-v)>=50){e.fillStyle="#ffffff";var E=void 0;E=0===A.getDate()?A.toLocaleDateString(void 0,{month:"short"}):A.toTimeString().slice(0,5),e.fillText(E,H,c-20),v=H}}var I=new Intl.DateTimeFormat("en",{timeStyle:"short",hour12:!1,dateStyle:"short"}),Y=a.state,B=Y.mouseX,G=Y.mouseY;if(B&&G){e.setLineDash([8,6]),e.strokeStyle="#758696",e.beginPath(),e.moveTo(B,G),e.lineTo(0,G),e.stroke(),e.beginPath(),e.moveTo(B,G),e.lineTo(i,G),e.stroke(),e.beginPath(),e.moveTo(B,G),e.lineTo(B,0),e.stroke(),e.beginPath(),e.moveTo(B,G),e.lineTo(B,c),e.stroke(),e.setLineDash([]);var X=x.find((function(e){var t=e.xRange;return function(e,t){return e>=t[0]&&e<=t[1]}(B,t)}));if(X){var _=X.timestamp,z=X.open,J=X.close,U=X.low,W=X.high,q=new Date(1e3*_);e.fillStyle="green",e.textAlign="left",e.fillText("Time: "+I.format(q)+", Open: "+z.toFixed(2)+", Close: "+J.toFixed(2)+", Low: "+U.toFixed(2)+", High: "+W.toFixed(2),5,40)}}e.fillStyle="#ffffff",e.textAlign="left";var K=new Date(1e3*a.props.from),Q=new Date(1e3*a.props.to),V=a.props.symbol+" from "+I.format(K)+" to "+I.format(Q)+", Resolution: "+a.props.resolution;e.fillText(V,5,20)},a.getHeightOfPrice=function(e,t,n){var c,i,r=a.props.chartData.computed,o=r.max,s=r.min;return(i=[n,t])[0]+(e-(c=[s,o])[0])*(i[1]-i[0])/(c[1]-c[0])},a.getDisplayedPrices=function(){for(var e=a.props.chartData.computed,t=e.max,n=e.min,c=a.state.zoomLevel,i=[],r=Math.ceil(t);r>n;r-=1*c)i.push(r);return i.push(Math.floor(n)),i},a.updateMousePos=function(e,t){a.setState({mouseX:e,mouseY:t})},a.state={zoomLevel:1,mouseX:null,mouseY:null},a}return Object(N.a)(n,[{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,a=e.loaded,c=e.error;return Object(x.jsx)("div",{className:"center",children:Object(x.jsxs)("div",{className:"chart",style:{width:t,height:n},children:[a&&null===c&&Object(x.jsx)(L,{draw:this.draw,width:t,height:n,style:{width:t,height:n},updateMousePos:this.updateMousePos}),a&&null!==c&&Object(x.jsx)("div",{children:"Error 404: ticker not found"}),!a&&Object(x.jsx)("img",{src:P,alt:"Loading..."})]})})}}]),n}(c.a.Component),L=function(e){var t=e.updateMousePos,n=e.draw,c=Object(y.a)(e,F),i=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=i.current;e.addEventListener("mousemove",(function(n){var a=e.getBoundingClientRect(),c=Math.round(n.clientX-a.left),i=Math.round(n.clientY-a.top);t(c,i)})),e.addEventListener("mouseleave",(function(e){t(null,null)}));var a,c=e.getContext("2d"),r=0;return function e(){r++,n(c,r),a=window.requestAnimationFrame(e)}(),function(){window.cancelAnimationFrame(a)}}),[n]),Object(x.jsx)("canvas",Object(k.a)({ref:i},c))},H=function(){var e=Object(u.e)().ticker;return Object(x.jsx)(R,{ticker:e})},A=(n(214),function(){return Object(x.jsx)("div",{className:"center",children:Object(x.jsx)("div",{children:Object(x.jsx)("h1",{className:"settings-body",children:"Welcome to the settings page."})})})}),E=(n(215),function(){return Object(x.jsx)("div",{className:"center",children:Object(x.jsx)("div",{className:"search",children:Object(x.jsx)(d.c,{className:"search-navbar",children:Object(x.jsx)(d.d,{align:f.a.RIGHT,children:Object(x.jsx)(d.b,{className:"search-bar",placeholder:"Search Bar"})})})})})});var I=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){l.a.get("http://localhost:5000/home").then((function(e){c(e.data)}))}),[]),Object(x.jsx)("div",{className:"center",children:Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)(S,{}),n,Object(x.jsxs)(h.a,{basename:"/2021-fall-cs160-pied-piper",children:[Object(x.jsx)(u.a,{path:"/ticker/:ticker",children:Object(x.jsx)(H,{})}),Object(x.jsx)(u.a,{path:"/settings",children:Object(x.jsx)(A,{})}),Object(x.jsx)(u.a,{path:"/search",children:Object(x.jsx)(E,{})})]})]})})},Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,225)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};r.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsx)(I,{})}),document.getElementById("root")),Y()}},[[216,1,2]]]);
//# sourceMappingURL=main.e9d5a855.chunk.js.map